{"version":3,"names":["login","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee2","token","wrap","_callee2$","_context2","prev","next","common_storage","getToken","abrupt","common_vendor","index","success","_success","_callee","loginRes","code","res","_callee$","_context","api_login","api","sent","setToken","stop","_x","apply","arguments"],"sources":["login.ts"],"sourcesContent":["import { getToken, setToken } from '@/common/storage';\nimport api from '@/api/login';\n\nexport default async () => {\n    const token = getToken();\n\n    if (token) {\n        return;\n    }\n\n    uni.login({\n        success: async (loginRes) => {\n            const { code } = loginRes;\n\n            const res = await api.login(code);\n\n            setToken(res.token);\n        }\n    });\n    \n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,KAAA;EAAA,IAAAC,IAAA,GAAAC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAe,SAAAC,SAAA;IAAA,IAAAC,KAAA;IAAA,OAAAH,oBAAA,GAAAI,IAAA,UAAAC,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAC,IAAA,GAAAD,SAAA,CAAAE,IAAA;QAAA;UACLL,KAAA,GAAQM,cAAA,CAAAC,QAAA;UAAA,KAEVP,KAAA;YAAAG,SAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,SAAA,CAAAK,MAAA;QAAA;UAIJC,aAAA,CAAAC,KAAA,CAAIhB,KAAA,CAAM;YACNiB,OAAA;cAAA,IAAAC,QAAA,GAAAhB,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAS,SAAAe,QAAOC,QAAA;gBAAA,IAAAC,IAAA,EAAAC,GAAA;gBAAA,OAAAnB,oBAAA,GAAAI,IAAA,UAAAgB,SAAAC,QAAA;kBAAA,kBAAAA,QAAA,CAAAd,IAAA,GAAAc,QAAA,CAAAb,IAAA;oBAAA;sBACJU,IAAA,GAASD,QAAA,CAATC,IAAA;sBAAAG,QAAA,CAAAb,IAAA;sBAAA,OAEUc,SAAA,CAAAC,GAAA,CAAI1B,KAAA,CAAMqB,IAAI;oBAAA;sBAA1BC,GAAA,GAAAE,QAAA,CAAAG,IAAA;sBAENf,cAAA,CAAAgB,QAAA,CAASN,GAAA,CAAIhB,KAAK;oBAAA;oBAAA;sBAAA,OAAAkB,QAAA,CAAAK,IAAA;kBAAA;gBAAA,GAAAV,OAAA;cAAA,CACtB;cAAA,SAAAF,QAAAa,EAAA;gBAAA,OAAAZ,QAAA,CAAAa,KAAA,OAAAC,SAAA;cAAA;cAAA,OAAAf,OAAA;YAAA;UAAA,CACH;QAAA;QAAA;UAAA,OAAAR,SAAA,CAAAoB,IAAA;MAAA;IAAA,GAAAxB,QAAA;EAAA,CAEL;EAAA,gBAjBAL,MAAA;IAAA,OAAAC,IAAA,CAAA8B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAiBA","ignoreList":[]}