{"version":3,"names":["token","common_vendor","ref","common_storage","getToken","userInfo","getUserInfo","props","__props","index","$on","value","onUnmounted","$off","isLogin","computed","item","includes","isPhone","_a","phone","isAvatar","avatar","wx","createComponent","_sfc_main"],"sources":["check.vue","check.vue?type=component"],"sourcesContent":["<template>\n    <view class=\"login-wrapper\">\n        <user-login v-if=\"!isLogin\">1<slot/></user-login>\n        <user-phone v-else-if=\"!isPhone\">2-{{ userInfo.value.phone }}<slot/></user-phone>\n        <user-avatar v-else-if=\"!isAvatar\">3-{{ userInfo.value.avatar }}<slot/></user-avatar>\n\t\t<view v-else>4<slot/></view>\n    </view>\n</template>\n\n<script setup>\nimport {getToken, getUserInfo} from '@/common/storage'\nimport { ref, computed, onUnmounted } from 'vue'\n\n// 将状态转换为响应式\nconst token = ref(getToken())\nconst userInfo = ref(getUserInfo())\n\nconst props = defineProps({\n    item: {\n        type: Array,\n        default: () => ['login', 'phone', 'avatar']\n    }\n})\n\n// 监听storage变化\nuni.$on('storage-changed', () => {\n    token.value = getToken()\n    userInfo.value = getUserInfo()\n})\n\n// 组件卸载时移除事件监听\nonUnmounted(() => {\n    uni.$off('storage-changed')\n})\n\n// 使用计算属性来依赖响应式数据\nconst isLogin = computed(() => token.value && userInfo.value && props.item.includes('login'))\nconst isPhone = computed(() => userInfo.value?.phone && props.item.includes('phone'))\nconst isAvatar = computed(() => userInfo.value?.avatar && props.item.includes('avatar'))\n</script>","import Component from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/uni-app/components/user/check.vue'\nwx.createComponent(Component)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAcA,IAAMA,KAAA,GAAQC,aAAA,CAAAC,GAAA,CAAIC,cAAA,CAAAC,QAAA,EAAU;IAC5B,IAAMC,QAAA,GAAWJ,aAAA,CAAAC,GAAA,CAAIC,cAAA,CAAAG,WAAA,EAAa;IAElC,IAAMC,KAAA,GAAQC,OAAA;IAQdP,aAAA,CAAAQ,KAAA,CAAIC,GAAA,CAAI,mBAAmB,YAAM;MAC7BV,KAAA,CAAMW,KAAA,GAAQR,cAAA,CAAAC,QAAA,EAAU;MACxBC,QAAA,CAASM,KAAA,GAAQR,cAAA,CAAAG,WAAA,EAAa;IAClC,CAAC;IAGDL,aAAA,CAAAW,WAAA,CAAY,YAAM;MACdX,aAAA,CAAGQ,KAAA,CAACI,IAAA,CAAK,iBAAiB;IAC9B,CAAC;IAGD,IAAMC,OAAA,GAAUb,aAAA,CAAQc,QAAA,CAAC;MAAA,OAAMf,KAAA,CAAMW,KAAA,IAASN,QAAA,CAASM,KAAA,IAASJ,KAAA,CAAMS,IAAA,CAAKC,QAAA,CAAS,OAAO,CAAC;IAAA;IAC5F,IAAMC,OAAA,GAAUjB,aAAA,CAAAc,QAAA,CAAS,YAAM;;MAAA,SAAAI,EAAA,GAAAd,QAAA,CAASM,KAAA,KAAT,gBAAAQ,EAAA,CAAgBC,KAAA,KAASb,KAAA,CAAMS,IAAA,CAAKC,QAAA,CAAS,OAAO;IAAA,CAAC;IACpF,IAAMI,QAAA,GAAWpB,aAAA,CAAAc,QAAA,CAAS,YAAM;;MAAA,SAAAI,EAAA,GAAAd,QAAA,CAASM,KAAA,KAAT,gBAAAQ,EAAA,CAAgBG,MAAA,KAAUf,KAAA,CAAMS,IAAA,CAAKC,QAAA,CAAS,QAAQ;IAAA,CAAC;;;;;;;;;;;;;;;ACrCvFM,EAAA,CAAGC,eAAA,CAAgBC,SAAS","ignoreList":[]}