{"version":3,"names":["bannerList","common_vendor","ref","themeList","getBannerList","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","res","wrap","_callee$","_context","prev","next","api_banner","bannerAPI","query","sent","records","value","t0","index","__f__","stop","apply","arguments","getThemeList","_ref2","_callee2","_callee2$","_context2","api_theme","themeAPI","handleBuyNow","length","themeId","id","navigateTo","url","concat","onMounted","wx","createPage","_sfc_main"],"sources":["index.vue","index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- Banner轮播图 -->\r\n\t\t<view class=\"banner-container\" v-if=\"bannerList.length > 0\">\r\n\t\t\t<swiper class=\"banner-swiper\" :autoplay=\"true\" :interval=\"3000\" :duration=\"500\">\r\n\t\t\t\t<swiper-item v-for=\"(banner, index) in bannerList\" :key=\"index\">\r\n\t\t\t\t\t<image :src=\"banner.imageUrl || banner.image\" class=\"banner-image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 主题购买按钮 -->\r\n\t\t<view class=\"theme-container\" v-if=\"themeList.length === 1\">\r\n\t\t\t<custom-button \r\n\t\t\t\ttext=\"立即购买\" \r\n\t\t\t\twidth=\"360rpx\" \r\n\t\t\t\tfontSize=\"48rpx\"\r\n\t\t\t\t@click=\"handleBuyNow\" \r\n\t\t\t/>\r\n\t\t</view>\r\n\t</view>\r\n\r\n\t<tab-bar />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { banner as bannerAPI, theme as themeAPI } from '@/api'\r\n\r\nconst bannerList = ref([])\r\nconst themeList = ref([])\r\n\r\n// 获取banner列表\r\nconst getBannerList = async () => {\r\n\ttry {\r\n\t\tconst res = await bannerAPI.query()\r\n\t\tif (res && res.records) {\r\n\t\t\tbannerList.value = res.records\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('获取banner列表失败:', error)\r\n\t}\r\n}\r\n\r\n// 获取主题列表\r\nconst getThemeList = async () => {\r\n\ttry {\r\n\t\tconst res = await themeAPI.query()\r\n\t\tif (res && res.records) {\r\n\t\t\tthemeList.value = res.records\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('获取主题列表失败:', error)\r\n\t}\r\n}\r\n\r\n// 立即购买按钮点击事件\r\nconst handleBuyNow = () => {\r\n\tif (themeList.value.length === 1) {\r\n\t\tconst themeId = themeList.value[0].id\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/pages/ECommerce/pages/theme?id=${themeId}`\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// 页面加载时获取数据\r\nonMounted(() => {\r\n\tgetBannerList()\r\n\tgetThemeList()\r\n})\r\n\r\n</script>\r\n\r\n<style>\r\n.content {\r\n\tpadding: 0;\r\n\tposition: relative;\r\n\theight: calc(100vh - 100rpx);\r\n}\r\n\r\n.banner-container {\r\n\twidth: 100%;\r\n\theight: calc(100vh - 100rpx);\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 1;\r\n}\r\n\r\n.banner-swiper {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.banner-image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 0;\r\n}\r\n\r\n/* 轮播指示点样式 */\r\n.banner-swiper ::v-deep .uni-swiper-dot {\r\n\tbackground-color: rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.banner-swiper ::v-deep .uni-swiper-dot-active {\r\n\tbackground-color: #ffffff;\r\n}\r\n\r\n/* 主题购买按钮样式 */\r\n.theme-container {\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tz-index: 10;\r\n\ttext-align: center;\r\n}\r\n\r\n/* 按钮样式已移至组件内部 */\r\n</style>\r\n","import MiniProgramPage from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/pages/base/pages/index.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;IA6BA,IAAMA,UAAA,GAAaC,aAAA,CAAGC,GAAA,CAAC,EAAE;IACzB,IAAMC,SAAA,GAAYF,aAAA,CAAGC,GAAA,CAAC,EAAE;IAGxB,IAAME,aAAA;MAAA,IAAAC,IAAA,GAAAC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAgB,SAAAC,QAAA;QAAA,IAAAC,GAAA;QAAA,OAAAH,oBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEFC,UAAA,CAASC,SAAA,CAACC,KAAA,EAAO;YAAA;cAA7BR,GAAA,GAAAG,QAAA,CAAAM,IAAA;cACN,IAAIT,GAAA,IAAOA,GAAA,CAAIU,OAAA,EAAS;gBACvBpB,UAAA,CAAWqB,KAAA,GAAQX,GAAA,CAAIU,OAAA;cACvB;cAAAP,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;cAEDZ,aAAA,CAAAsB,KAAA,CAAcC,KAAA,+DAAAX,QAAA,CAAAS,EAAA,CAAsB;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAhB,OAAA;MAAA,CAEtC;MAAA,gBATML,cAAA;QAAA,OAAAC,IAAA,CAAAqB,KAAA,OAAAC,SAAA;MAAA;IAAA,GASN;IAGA,IAAMC,YAAA;MAAA,IAAAC,KAAA,GAAAvB,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAe,SAAAsB,SAAA;QAAA,IAAApB,GAAA;QAAA,OAAAH,oBAAA,GAAAI,IAAA,UAAAoB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAjB,IAAA;YAAA;cAAAiB,SAAA,CAAAlB,IAAA;cAAAkB,SAAA,CAAAjB,IAAA;cAAA,OAEDkB,SAAA,CAAQC,QAAA,CAAChB,KAAA,EAAO;YAAA;cAA5BR,GAAA,GAAAsB,SAAA,CAAAb,IAAA;cACN,IAAIT,GAAA,IAAOA,GAAA,CAAIU,OAAA,EAAS;gBACvBjB,SAAA,CAAUkB,KAAA,GAAQX,GAAA,CAAIU,OAAA;cACtB;cAAAY,SAAA,CAAAjB,IAAA;cAAA;YAAA;cAAAiB,SAAA,CAAAlB,IAAA;cAAAkB,SAAA,CAAAV,EAAA,GAAAU,SAAA;cAED/B,aAAA,CAAAsB,KAAA,CAAAC,KAAA,8CAAc,aAAAQ,SAAA,CAAAV,EAAA,CAAkB;YAAA;YAAA;cAAA,OAAAU,SAAA,CAAAP,IAAA;UAAA;QAAA,GAAAK,QAAA;MAAA,CAElC;MAAA,gBATMF,aAAA;QAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;MAAA;IAAA,GASN;IAGA,IAAMQ,YAAA,GAAe,SAAfA,aAAA,EAAqB;MAC1B,IAAIhC,SAAA,CAAUkB,KAAA,CAAMe,MAAA,KAAW,GAAG;QACjC,IAAMC,OAAA,GAAUlC,SAAA,CAAUkB,KAAA,CAAM,CAAC,EAAEiB,EAAA;QACnCrC,aAAA,CAAAsB,KAAA,CAAIgB,UAAA,CAAW;UACdC,GAAA,qCAAAC,MAAA,CAAwCJ,OAAO;QAClD,CAAG;MACD;IACF;IAGApC,aAAA,CAAAyC,SAAA,CAAU,YAAM;MACftC,aAAA,EAAe;MACfwB,YAAA,EAAc;IACf,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACrEDe,EAAA,CAAGC,UAAA,CAAWC,SAAe","ignoreList":[]}