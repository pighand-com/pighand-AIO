{"version":3,"names":["userInfo","common_vendor","ref","common_storage","getUserInfo","onMounted","loadBgImage","index","$on","value","goToOrder","navigateTo","url","wx","createPage","MiniProgramPage"],"sources":["mine.vue","mine.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<custom-navigation-bar :back=\"true\" position=\"flex\" />\r\n\r\n\t\t<!-- 背景图片 \r\n\t\t<view class=\"bg-container\" v-if=\"bgImageExists && bgImageSrc\">\r\n\t\t\t<image class=\"bg-image\" :src=\"bgImageSrc\" mode=\"widthFix\" @error=\"onBgImageError\"></image>\r\n\t\t\t<view class=\"bg-gradient\"></view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 用户信息区域 -->\r\n\t\t<view class=\"user-info\">\r\n\t\t\t<!-- 头像 -->\r\n\t\t\t<user-check :item=\"['login', 'avatar']\">\r\n\t\t\t\t<view class=\"avatar-container\">\r\n\t\t\t\t\t<image class=\"avatar\" :src=\"userInfo?.avatar || defaultAvatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</user-check>\r\n\t\t\t\r\n\t\t\t<!-- 手机号 -->\r\n\t\t\t<view class=\"phone-container\">\r\n\t\t\t\t<user-check :item=\"['login', 'phone']\">\r\n\t\t\t\t\t<text class=\"phone-text\">{{ userInfo?.phone || '获取手机号' }}</text>\r\n\t\t\t\t</user-check>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 订单区域 -->\r\n\t\t<view class=\"order-section\">\r\n\t\t\t<user-check :item=\"['login']\">\r\n\t\t\t\t<view class=\"order-box\" @click=\"goToOrder\">\r\n\t\t\t\t\t<text class=\"order-text\">我的订单</text>\r\n\t\t\t\t\t<text class=\"order-arrow\">></text>\r\n\t\t\t\t</view>\r\n\t\t\t</user-check>\r\n\t\t</view>\r\n\t\t\r\n\t\t<tab-bar />\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { getUserInfo } from '@/common/storage'\r\n\r\nimport defaultAvatar from '../static/default-avatar.jpg'\r\n\r\nconst userInfo = ref(getUserInfo())\r\n\r\n// 组件挂载时加载图片\r\nonMounted(() => {\r\n    loadBgImage()\r\n})\r\n\r\n// 监听storage变化\r\nuni.$on('storage-changed', () => {\r\n    userInfo.value = getUserInfo()\r\n})\r\n\r\n\r\n// 跳转到订单页面\r\nfunction goToOrder() {\r\n    uni.navigateTo({\r\n        url: '/pages/ECommerce/pages/order-list'\r\n    })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n\tposition: relative;\r\n\tmin-height: 100vh;\r\n\tbackground: #000;\r\n}\r\n\r\n.bg-container {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tz-index: 0;\r\n}\r\n\r\n.bg-image {\r\n\twidth: 100%;\r\n\theight: auto;\r\n\tdisplay: block;\r\n}\r\n\r\n.bg-gradient {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground: linear-gradient(to bottom, transparent 0%, #000 100%);\r\n}\r\n\r\n.user-info {\r\n\tdisplay: flex;\r\n    align-items: center;\r\n    padding: 0 40rpx;\r\n}\r\n\r\n.avatar-container {\r\n\tmargin-right: 30rpx;\r\n}\r\n\r\n.avatar {\r\n\twidth: 120rpx;\r\n\theight: 120rpx;\r\n\tborder-radius: 60rpx;\r\n\tborder: 4rpx solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.phone-container {\r\n\tflex: 1;\r\n}\r\n\r\n.phone-text {\r\n\tfont-size: 32rpx;\r\n\tcolor: #fff;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.order-section {\r\n\tpadding: 48rpx;\r\n}\r\n\r\n.order-box {\r\n\tbackground: rgba(255, 255, 255, 0.9);\r\n\tborder-radius: 20rpx;\r\n\tpadding: 40rpx 30rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.order-text {\r\n\tfont-size: 32rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.order-arrow {\r\n\tfont-size: 32rpx;\r\n\tcolor: #999;\r\n\tfont-weight: bold;\r\n}\r\n</style>","import MiniProgramPage from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/pages/base/pages/mine.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;IA+CA,IAAMA,QAAA,GAAWC,aAAA,CAAAC,GAAA,CAAIC,cAAA,CAAAC,WAAA,EAAa;IAGlCH,aAAA,CAAAI,SAAA,CAAU,YAAM;MACZC,WAAA,EAAa;IACjB,CAAC;IAGDL,aAAA,CAAAM,KAAA,CAAIC,GAAA,CAAI,mBAAmB,YAAM;MAC7BR,QAAA,CAASS,KAAA,GAAQN,cAAA,CAAAC,WAAA,EAAa;IAClC,CAAC;IAID,SAASM,UAAA,EAAY;MACjBT,aAAA,CAAAM,KAAA,CAAII,UAAA,CAAW;QACXC,GAAA,EAAK;MACb,CAAK;IACL;;;;;;;;;;;;;;;;;;;;;;;;;AChEAC,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}