{"version":3,"file":"custom-navigation-bar.js","sources":["components/custom-navigation-bar/custom-navigation-bar.vue","/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/components/custom-navigation-bar/custom-navigation-bar.vue?type=component"],"sourcesContent":["<template>\n\t<view class=\"navigation-bar\" \n\t\t:style=\"'height: ' + (navigationBarHeight + statusBarHeight) + 'px; position: ' + props.position + '; --status-bar-height: ' + statusBarHeight + 'px; --navigation-bar-height: ' + navigationBarHeight + 'px;'\">\n\t\t<!-- 状态栏空位 -->\n\t\t<view class=\"status-bar\" :style=\"'height: ' + statusBarHeight + 'px'\"></view>\n\t\t\n\t\t<view class=\"title\"\n\t\t\t:style=\"'height: ' + navigationBarHeight + 'px; line-height: ' + navigationBarHeight + 'px;'\"\n\t\t\tv-if=\"title\">\n\t\t\t{{ title }}\n\t\t</view>\n\t\t\n\t\t<view class=\"back\" @click=\"onBack\" v-if=\"back\">\n\t\t\t<image src=\"./static/back.png\" mode=\"widthFix\"></image>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\n\n/**\n * defineProps 入参说明：\n * @property {String} title 导航栏标题文本\n * @property {Boolean} back 是否显示返回按钮\n * @property {String} backPath 自定义返回路径，优先跳转该路径\n * @property {String} position 定位方式，默认 absolute，可选 fixed/static\n */\nconst props = defineProps({\n\ttitle: {\n\t\ttype: String,\n\t\tdefault: ''\n\t},\n\tback: {\n\t\ttype: Boolean,\n\t\tdefault: false\n\t},\n\tbackPath: {\n\t\ttype: String,\n\t\tdefault: ''\n\t},\n\tposition: {\n\t\ttype: String,\n\t\tdefault: 'absolute'\n\t}\n})\n\nconst navigationBarHeight = ref(0)\nconst statusBarHeight = ref(0)\n\nonMounted(() => {\n\tconst systemInfo = uni.getSystemInfoSync()\n\tstatusBarHeight.value = systemInfo.statusBarHeight\n\tconst MenuButton = wx.getMenuButtonBoundingClientRect()\n\tnavigationBarHeight.value = MenuButton.height + (MenuButton.top - statusBarHeight.value) * 2\n})\n\nconst onBack = () => {\n\tif (props.backPath) {\n\t\tuni.navigateTo({\n\t\t\turl: props.backPath\n\t\t})\n\t\treturn\n\t}\n\t\n\tlet pages = getCurrentPages()\n\tif (pages.length > 1) {\n\t\tuni.navigateBack({\n\t\t\tdelta: -1\n\t\t})\n\t} else {\n\t\tuni.switchTab({\n\t\t\turl: '/pages/base/pages/index'\n\t\t})\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.navigation-bar {\n\t\twidth: 100%;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\tz-index: 1000;\n\t\t\n\t\t.status-bar {\n\t\t\twidth: 100%;\n\t\t\tbackground-color: transparent;\n\t\t}\n\t\t\n\t\t.title {\n\t\t\tcolor: #242424ff;\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: 600;\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\ttop: var(--status-bar-height, 0px);\n\t\t\ttext-align: center;\n\t\t\tpointer-events: none;\n\t\t}\n\t\t\n\t\t.back {\n\t\t\theight: var(--navigation-bar-height, 44px);\n\t\t\twidth: 80rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tposition: absolute;\n\t\t\ttop: var(--status-bar-height, 0px);\n\t\t\tleft: 0;\n\t\t\tz-index: 1001;\n\t\t\t\n\t\t\timage {\n\t\t\t\twidth: 40rpx;\n\t\t\t\theight: 40rpx;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import Component from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/components/custom-navigation-bar/custom-navigation-bar.vue'\nwx.createComponent(Component)"],"names":["ref","onMounted","uni","wx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AA4BA,UAAM,QAAQ;AAmBd,UAAM,sBAAsBA,cAAG,IAAC,CAAC;AACjC,UAAM,kBAAkBA,cAAG,IAAC,CAAC;AAE7BC,kBAAAA,UAAU,MAAM;AACf,YAAM,aAAaC,cAAG,MAAC,kBAAmB;AAC1C,sBAAgB,QAAQ,WAAW;AACnC,YAAM,aAAaC,cAAE,KAAC,gCAAiC;AACvD,0BAAoB,QAAQ,WAAW,UAAU,WAAW,MAAM,gBAAgB,SAAS;AAAA,IAC5F,CAAC;AAED,UAAM,SAAS,MAAM;AACpB,UAAI,MAAM,UAAU;AACnBD,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,MAAM;AAAA,QACd,CAAG;AACD;AAAA,MACA;AAED,UAAI,QAAQ,gBAAiB;AAC7B,UAAI,MAAM,SAAS,GAAG;AACrBA,sBAAAA,MAAI,aAAa;AAAA,UAChB,OAAO;AAAA,QACV,CAAG;AAAA,MACH,OAAQ;AACNA,sBAAAA,MAAI,UAAU;AAAA,UACb,KAAK;AAAA,QACR,CAAG;AAAA,MACD;AAAA,IACF;;;;;;;;;;;;;;;;;;;;AC1EA,GAAG,gBAAgB,SAAS;"}