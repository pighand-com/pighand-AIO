{"version":3,"file":"status-bar-gradient.js","sources":["components/status-bar-gradient/status-bar-gradient.vue","/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/components/status-bar-gradient/status-bar-gradient.vue?type=component"],"sourcesContent":["<template>\n\t<view class=\"status-bar-gradient\" :style=\"gradientStyle\"></view>\n</template>\n\n<script setup>\nimport { computed, onMounted, ref } from 'vue'\n\n// 获取系统信息\nconst systemInfo = ref({})\nconst safeAreaHeight = ref('44px') // 默认安全区高度\n\nonMounted(() => {\n\ttry {\n\t\tsystemInfo.value = uni.getSystemInfoSync()\n\t\t// 计算安全区高度：状态栏高度 + 导航栏高度\n\t\tconst statusBarHeight = systemInfo.value.statusBarHeight || 20\n\t\tconst navHeight = 44 // 导航栏默认高度\n\t\tsafeAreaHeight.value = `${statusBarHeight + navHeight}px`\n\t} catch (e) {\n\t\tconsole.warn('获取系统信息失败，使用默认安全区高度', e)\n\t}\n})\n\n// 定义props\nconst props = defineProps({\n\t// 渐变颜色，支持rgb、rgba、hex等格式\n\tcolor: {\n\t\ttype: String,\n\t\tdefault: 'white'\n\t},\n\t// 顶部不透明度\n\ttopOpacity: {\n\t\ttype: Number,\n\t\tdefault: 0.8\n\t},\n\t// 中间不透明度\n\tmiddleOpacity: {\n\t\ttype: Number,\n\t\tdefault: 0.4\n\t},\n\t// 遮罩高度，默认为安全区高度\n\theight: {\n\t\ttype: String,\n\t\tdefault: ''\n\t}\n})\n\n// 计算渐变样式\nconst gradientStyle = computed(() => {\n\tconst { color, topOpacity, middleOpacity, height } = props\n\t// 如果没有传入高度，使用安全区高度\n\tconst finalHeight = height || safeAreaHeight.value\n\t\n\t// 处理颜色值，转换为rgba格式\n\tlet rgbaColor\n\tif (color === 'white') {\n\t\trgbaColor = '255, 255, 255'\n\t} else if (color === 'black') {\n\t\trgbaColor = '0, 0, 0'\n\t} else if (color.startsWith('#')) {\n\t\t// 处理hex颜色\n\t\tconst hex = color.slice(1)\n\t\tconst r = parseInt(hex.slice(0, 2), 16)\n\t\tconst g = parseInt(hex.slice(2, 4), 16)\n\t\tconst b = parseInt(hex.slice(4, 6), 16)\n\t\trgbaColor = `${r}, ${g}, ${b}`\n\t} else if (color.startsWith('rgb')) {\n\t\t// 提取rgb值\n\t\tconst match = color.match(/\\d+/g)\n\t\tif (match && match.length >= 3) {\n\t\t\trgbaColor = `${match[0]}, ${match[1]}, ${match[2]}`\n\t\t} else {\n\t\t\trgbaColor = '255, 255, 255' // 默认白色\n\t\t}\n\t} else {\n\t\t// 默认白色\n\t\trgbaColor = '255, 255, 255'\n\t}\n\t\n\treturn {\n\t\theight: finalHeight,\n\t\tbackground: `linear-gradient(to bottom, rgba(${rgbaColor}, ${topOpacity}) 0%, rgba(${rgbaColor}, ${middleOpacity}) 50%, transparent 100%)`\n\t}\n})\n</script>\n\n<style scoped>\n.status-bar-gradient {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tpointer-events: none;\n\tz-index: 2;\n}\n</style>","import Component from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/components/status-bar-gradient/status-bar-gradient.vue'\nwx.createComponent(Component)"],"names":["ref","onMounted","uni","computed"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,iBAAiBA,cAAG,IAAC,MAAM;AAEjCC,kBAAAA,UAAU,MAAM;AACf,UAAI;AACH,mBAAW,QAAQC,cAAG,MAAC,kBAAmB;AAE1C,cAAM,kBAAkB,WAAW,MAAM,mBAAmB;AAC5D,cAAM,YAAY;AAClB,uBAAe,QAAQ,GAAG,kBAAkB,SAAS;AAAA,MACrD,SAAQ,GAAG;AACXA,sBAAAA,MAAa,MAAA,QAAA,gEAAA,sBAAsB,CAAC;AAAA,MACpC;AAAA,IACF,CAAC;AAGD,UAAM,QAAQ;AAwBd,UAAM,gBAAgBC,cAAQ,SAAC,MAAM;AACpC,YAAM,EAAE,OAAO,YAAY,eAAe,OAAQ,IAAG;AAErD,YAAM,cAAc,UAAU,eAAe;AAG7C,UAAI;AACJ,UAAI,UAAU,SAAS;AACtB,oBAAY;AAAA,MACd,WAAY,UAAU,SAAS;AAC7B,oBAAY;AAAA,MACZ,WAAU,MAAM,WAAW,GAAG,GAAG;AAEjC,cAAM,MAAM,MAAM,MAAM,CAAC;AACzB,cAAM,IAAI,SAAS,IAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AACtC,cAAM,IAAI,SAAS,IAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AACtC,cAAM,IAAI,SAAS,IAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AACtC,oBAAY,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;AAAA,MAC5B,WAAU,MAAM,WAAW,KAAK,GAAG;AAEnC,cAAM,QAAQ,MAAM,MAAM,MAAM;AAChC,YAAI,SAAS,MAAM,UAAU,GAAG;AAC/B,sBAAY,GAAG,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;AAAA,QACpD,OAAS;AACN,sBAAY;AAAA,QACZ;AAAA,MACH,OAAQ;AAEN,oBAAY;AAAA,MACZ;AAED,aAAO;AAAA,QACN,QAAQ;AAAA,QACR,YAAY,mCAAmC,SAAS,KAAK,UAAU,cAAc,SAAS,KAAK,aAAa;AAAA,MAChH;AAAA,IACF,CAAC;;;;;;;;;AClFD,GAAG,gBAAgB,SAAS;"}