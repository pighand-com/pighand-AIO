{"version":3,"file":"distribution-list.js","sources":["pages/ECommerce/pages/distribution-list.vue","pages/ECommerce/pages/distribution-list.vue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"distribution-list\">\r\n    <custom-navigation-bar :back=\"true\" position=\"flex\" title=\"分销记录\" />\r\n    \r\n    <!-- 统计信息 -->\r\n    <view class=\"statistics-section\">\r\n      <view class=\"statistics-grid\">\r\n        <view class=\"stat-item\" v-for=\"(value, key) in statistics\" :key=\"key\">\r\n          <view class=\"stat-value\" :class=\"`value-${key}`\">{{ formatAmount(value) }}</view>\r\n          <view class=\"stat-label\">{{ statusLabels[key] }}</view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 记录列表 -->\r\n    <view class=\"records-section\">\r\n      <view class=\"records-title\">分销记录</view>\r\n      <view class=\"records-list\">\r\n        <view class=\"record-item\" :class=\"{ 'settlement-record': record.type === 20 }\" v-for=\"record in recordsList\" :key=\"record.id\">\r\n          <view class=\"record-main\">\r\n            <view class=\"record-header\">\r\n              <view class=\"order-sn\">订单号：{{ record.order?.sn || '-' }}</view>\r\n              <view class=\"record-time\">{{ formatTime(record.createdAt) }}</view>\r\n            </view>\r\n            <view class=\"record-content\">\r\n              <view class=\"record-info\">\r\n                <view class=\"record-type\" :class=\"getTypeClass(record.type)\">{{ getTypeLabel(record.type) }}</view>\r\n              </view>\r\n              <view class=\"record-amount\" :class=\"[getAmountClass(record.type), getRecordAmountClass(record)]\">\r\n                <text class=\"currency-symbol\">￥</text>\r\n                <text class=\"amount-number\">{{ formatRecordAmount(record) }}</text>\r\n              </view>\r\n            </view>\r\n            <view v-if=\"record.type !== 20\" class=\"expand-toggle\" @click=\"toggleDetail(record.id)\">\r\n              <text class=\"expand-text\">{{ expandedRecords[record.id] ? '收起明细' : '查看明细' }}</text>\r\n              <view class=\"expand-icon\" :class=\"{ 'expanded': expandedRecords[record.id] }\">\r\n                <text>▼</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n          \r\n          <!-- 明细列表 -->\r\n          <view v-if=\"expandedRecords[record.id] && record.type !== 20\" class=\"detail-section\">\r\n            <view v-if=\"loadingDetails[record.id]\" class=\"detail-loading\">\r\n              <text>加载明细中...</text>\r\n            </view>\r\n            <view v-else-if=\"recordDetails[record.id] && recordDetails[record.id].length > 0\" class=\"detail-list\">\r\n              <view class=\"detail-item\" v-for=\"detail in recordDetails[record.id]\" :key=\"detail.id\">\r\n                <view class=\"detail-content\">\r\n                  <view class=\"detail-info\">\r\n                    <view class=\"detail-amount\">\r\n                      <text class=\"currency-symbol\">￥</text>\r\n                      <text class=\"amount-number\">{{ formatAmount(detail.amount) }}</text>\r\n                    </view>\r\n                    <view class=\"detail-status\" :class=\"getDetailStatusClass(detail.status)\">\r\n                      {{ getDetailStatusLabel(detail.status) }}\r\n                    </view>\r\n                  </view>\r\n                  <view v-if=\"detail.status === 10 && detail.settlementTime\" class=\"settlement-time\">\r\n                    可结算时间：{{ formatTime(detail.settlementTime) }}\r\n                  </view>\r\n                </view>\r\n              </view>\r\n            </view>\r\n            <view v-else class=\"detail-empty\">\r\n              <text>暂无明细数据</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 空状态 -->\r\n      <view v-if=\"recordsList.length === 0 && !loading\" class=\"empty-state\">\r\n        <text>暂无分销记录</text>\r\n      </view>\r\n      \r\n      <!-- 加载状态 -->\r\n      <view v-if=\"loading\" class=\"loading-state\">\r\n        <text>加载中...</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport Decimal from 'decimal.js'\r\nimport { onLoad, onShow } from '@dcloudio/uni-app'\r\nimport { distribution as distributionAPI } from '@/api'\r\n\r\n// 响应式数据\r\nconst statistics = ref({})\r\nconst recordsList = ref([])\r\nconst loading = ref(false)\r\nconst expandedRecords = ref({}) // 展开状态管理\r\nconst recordDetails = ref({}) // 明细数据\r\nconst loadingDetails = ref({}) // 明细加载状态\r\n\r\n// 状态标签映射\r\nconst statusLabels = {\r\n  frozenAmount: '冻结中',\r\n  incomingAmount: '入账中',\r\n  settledAmount: '待结算',\r\n  withdrawAmount: '已结算',\r\n  refundAmount: '退款'\r\n}\r\n\r\n// 类型标签映射\r\nconst typeLabels = {\r\n  10: '分销',\r\n  20: '结算'\r\n}\r\n\r\n// 获取类型标签\r\nconst getTypeLabel = (type) => {\r\n  return typeLabels[type] || '未知类型'\r\n}\r\n\r\n// 获取类型样式类\r\nconst getTypeClass = (type) => {\r\n  const classMap = {\r\n    10: 'type-sales',\r\n    20: 'type-settlement'\r\n  }\r\n  return classMap[type] || ''\r\n}\r\n\r\n// 获取状态样式类\r\nconst getStatusClass = (status) => {\r\n  const classMap = {\r\n    0: 'status-frozen',\r\n    10: 'status-pending',\r\n    20: 'status-settled',\r\n    90: 'status-refund'\r\n  }\r\n  return classMap[status] || ''\r\n}\r\n\r\n// 获取金额样式类\r\nconst getAmountClass = (type) => {\r\n  if (type === 10) return 'amount-sales'\r\n  if (type === 20) return 'amount-settlement'\r\n  return ''\r\n}\r\n\r\n// 获取记录金额颜色类\r\nconst getRecordAmountClass = (record) => {\r\n  // 根据金额类型确定颜色\r\n  if (record.frozenAmount && record.frozenAmount > 0) {\r\n    return 'amount-frozenAmount'\r\n  }\r\n  if (record.incomingAmount && record.incomingAmount > 0) {\r\n    return 'amount-incomingAmount'\r\n  }\r\n  if (record.settledAmount && record.settledAmount > 0) {\r\n    return 'amount-settledAmount'\r\n  }\r\n  if (record.withdrawAmount && record.withdrawAmount > 0) {\r\n    return 'amount-withdrawAmount'\r\n  }\r\n  if (record.refundAmount && record.refundAmount > 0) {\r\n    return 'amount-refundAmount'\r\n  }\r\n  return ''\r\n}\r\n\r\n// 格式化时间\r\nconst formatTime = (timeStr) => {\r\n  if (!timeStr) return '-'\r\n  const date = new Date(timeStr)\r\n  return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`\r\n}\r\n\r\n// 格式化金额（分转元）\r\n const formatAmount = (amount) => {\r\n  if (!amount && amount !== 0) return '0'\r\n  const result = new Decimal(amount).dividedBy(100)\r\n  return result.modulo(1).equals(0) ? result.toFixed(0) : result.toFixed(2)\r\n}\r\n\r\n// 格式化记录金额\r\nconst formatRecordAmount = (record) => {\r\n  const totalAmount = new Decimal(record.frozenAmount || 0)\r\n    .plus(record.settledAmount || 0)\r\n    .plus(record.refundAmount || 0)\r\n  const result = totalAmount.dividedBy(100)\r\n  return result.modulo(1).equals(0) ? result.toFixed(0) : result.toFixed(2)\r\n}\r\n\r\n// 获取明细状态标签\r\nconst getDetailStatusLabel = (status) => {\r\n  const statusMap = {\r\n    0: '冻结中',\r\n    10: '待结算',\r\n    20: '已结算',\r\n    90: '订单退款'\r\n  }\r\n  return statusMap[status] || '未知状态'\r\n}\r\n\r\n// 获取明细状态样式类\r\nconst getDetailStatusClass = (status) => {\r\n  const classMap = {\r\n    0: 'detail-status-frozen',\r\n    10: 'detail-status-pending',\r\n    20: 'detail-status-settled',\r\n    90: 'detail-status-refund'\r\n  }\r\n  return classMap[status] || ''\r\n}\r\n\r\n// 切换明细展开状态\r\nconst toggleDetail = async (recordId) => {\r\n  // 查找对应的记录\r\n  const record = recordsList.value.find(r => r.id === recordId)\r\n  \r\n  // 如果是结算单（type=20），不显示明细\r\n  if (record && record.type === 20) {\r\n    return\r\n  }\r\n  \r\n  const isExpanded = expandedRecords.value[recordId]\r\n  \r\n  if (isExpanded) {\r\n    // 收起明细\r\n    expandedRecords.value[recordId] = false\r\n  } else {\r\n    // 展开明细\r\n    expandedRecords.value[recordId] = true\r\n    \r\n    // 如果还没有加载过明细数据，则加载\r\n    if (!recordDetails.value[recordId]) {\r\n      await loadRecordDetail(recordId)\r\n    }\r\n  }\r\n}\r\n\r\n// 加载记录明细\r\nconst loadRecordDetail = async (recordId) => {\r\n  try {\r\n    loadingDetails.value[recordId] = true\r\n    const res = await distributionAPI.querySalesDetail(recordId)\r\n    recordDetails.value[recordId] = res || []\r\n  } catch (error) {\r\n    console.error('加载明细失败:', error)\r\n    recordDetails.value[recordId] = []\r\n  } finally {\r\n    loadingDetails.value[recordId] = false\r\n  }\r\n}\r\n\r\n// 加载统计数据\r\nconst loadStatistics = async () => {\r\n  const res = await distributionAPI.statistics()\r\n  \r\n  // 基于statusLabels动态创建默认值对象\r\n  const defaultStatistics = Object.keys(statusLabels).reduce((acc, key) => {\r\n    acc[key] = 0\r\n    return acc\r\n  }, {})\r\n\r\n  const processedRes = res ? { ...res } : {}\r\n  \r\n  // 将已结算金额的负数转为正数\r\n  if (processedRes.withdrawAmount && processedRes.withdrawAmount < 0) {\r\n    processedRes.withdrawAmount = Math.abs(processedRes.withdrawAmount)\r\n  }\r\n\r\n  statistics.value = {\r\n    ...defaultStatistics,\r\n    frozenAmount: processedRes.frozenAmount,\r\n    incomingAmount: processedRes.incomingAmount,\r\n    settledAmount: processedRes.settledAmount,\r\n    withdrawAmount: processedRes.withdrawAmount,\r\n    refundAmount: processedRes.refundAmount,\r\n  }\r\n}\r\n\r\n// 加载记录列表\r\nconst loadRecords = async () => {\r\n    loading.value = true\r\n    const res = await distributionAPI.querySales()\r\n\r\n    recordsList.value = res?.records || []\r\n    loading.value = false\r\n}\r\n\r\n// 初始化数据\r\nconst initData = async () => {\r\n  await Promise.all([\r\n    loadStatistics(),\r\n    loadRecords()\r\n  ])\r\n}\r\n\r\n// 页面生命周期\r\nonLoad(() => {\r\n  initData()\r\n})\r\n\r\nonShow(() => {\r\n  initData()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.distribution-list {\r\n  padding: 20rpx;\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n}\r\n\r\n/* 统计信息样式 */\r\n.statistics-section {\r\n  background: white;\r\n  border-radius: 16rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.statistics-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20rpx;\r\n}\r\n\r\n.stat-item {\r\n  flex: 1;\r\n  min-width: 0;\r\n  text-align: center;\r\n  padding: 20rpx;\r\n  background: #f8f9fa;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  color: #007aff;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n/* 统计金额颜色 */\r\n.stat-value.value-frozenAmount {\r\n  color: #909399;\r\n}\r\n\r\n.stat-value.value-incomingAmount {\r\n  color: #17a2b8;\r\n}\r\n\r\n.stat-value.value-settledAmount {\r\n  color: #e6a23c;\r\n}\r\n\r\n.stat-value.value-withdrawAmount {\r\n  color: #67c23a;\r\n}\r\n\r\n.stat-value.value-refundAmount {\r\n  color: #f56c6c;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  font-weight: normal;\r\n}\r\n\r\n/* 记录列表样式 */\r\n.records-section {\r\n  background: transparent;\r\n  border-radius: 0;\r\n  padding: 0;\r\n}\r\n\r\n.records-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 30rpx;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.records-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n}\r\n\r\n.record-item {\r\n  background: white;\r\n  border-radius: 16rpx;\r\n  padding: 30rpx 30rpx 0;\r\n  margin: 0 20rpx;\r\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.08);\r\n  border: 1rpx solid #f0f0f0;\r\n}\r\n\r\n/* 结算单样式 */\r\n.settlement-record {\r\n  padding-bottom: 30rpx;\r\n}\r\n\r\n.record-header {\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.order-sn {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.record-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  margin-top: 10rpx;\r\n}\r\n\r\n.record-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.record-info {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n\r\n.record-type {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  padding: 8rpx 16rpx;\r\n  background: #f0f0f0;\r\n  border-radius: 8rpx;\r\n}\r\n\r\n.type-sales {\r\n  color: #007aff;\r\n  background: #e3f2fd;\r\n}\r\n\r\n.type-settlement {\r\n  color: #ff6b35;\r\n  background: #fff3e0;\r\n}\r\n\r\n.record-status {\r\n  font-size: 24rpx;\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 8rpx;\r\n}\r\n\r\n.status-frozen {\r\n  color: #ff9500;\r\n  background: #fff3e0;\r\n}\r\n\r\n.status-pending {\r\n  color: #007aff;\r\n  background: #e3f2fd;\r\n}\r\n\r\n.status-settled {\r\n  color: #34c759;\r\n  background: #e8f5e8;\r\n}\r\n\r\n.status-refund {\r\n  color: #ff3b30;\r\n  background: #ffebee;\r\n}\r\n\r\n.record-amount {\r\n  display: flex;\r\n  align-items: baseline;\r\n  color: #333;\r\n}\r\n\r\n.currency-symbol {\r\n  font-size: 24rpx;\r\n  font-weight: normal;\r\n  margin-right: 4rpx;\r\n}\r\n\r\n.amount-number {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n.record-amount.amount-sales .amount-number {\r\n  color: #ff3b30;\r\n}\r\n\r\n.record-amount.amount-settlement .amount-number {\r\n  color: #34c759;\r\n}\r\n\r\n/* 记录金额颜色 */\r\n.record-amount.amount-frozenAmount .amount-number {\r\n  color: black;\r\n}\r\n\r\n.record-amount.amount-incomingAmount .amount-number {\r\n  color: #17a2b8;\r\n}\r\n\r\n.record-amount.amount-settledAmount .amount-number {\r\n  color: #e6a23c;\r\n}\r\n\r\n.record-amount.amount-withdrawAmount .amount-number {\r\n  color: #67c23a;\r\n}\r\n\r\n.record-amount.amount-refundAmount .amount-number {\r\n  color: #f56c6c;\r\n}\r\n\r\n/* 空状态和加载状态 */\r\n.empty-state,\r\n.loading-state {\r\n  text-align: center;\r\n  padding: 80rpx 20rpx;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n  background: white;\r\n  border-radius: 16rpx;\r\n  margin: 0 20rpx;\r\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.08);\r\n  border: 1rpx solid #f0f0f0;\r\n}\r\n\r\n/* 记录主体样式 */\r\n.record-main {\r\n  /* 移除cursor: pointer，因为点击事件现在在expand-toggle上 */\r\n}\r\n\r\n/* 展开切换区域样式 */\r\n.expand-toggle {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin-top: 20rpx;\r\n  padding: 16rpx 0;\r\n  cursor: pointer;\r\n  border-top: 1rpx solid #f0f0f0;\r\n}\r\n\r\n/* 展开图标样式 */\r\n.expand-icon {\r\n  margin-left: 12rpx;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.expand-icon.expanded {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.expand-icon text {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 展开文字样式 */\r\n.expand-text {\r\n  font-size: 26rpx;\r\n  color: #999;\r\n  font-weight: 400;\r\n}\r\n\r\n/* 明细区域样式 */\r\n.detail-section {\r\n  margin-top: 20rpx;\r\n  padding: 0 20rpx;\r\n  margin-bottom: 30rpx;\r\n  background: #f8f9fa;\r\n  border-radius: 12rpx;\r\n  border-left: 4rpx solid #007aff;\r\n}\r\n\r\n.detail-loading {\r\n  text-align: center;\r\n  padding: 40rpx 0;\r\n  color: #999;\r\n  font-size: 26rpx;\r\n}\r\n\r\n.detail-empty {\r\n  text-align: center;\r\n  padding: 40rpx 0;\r\n  color: #999;\r\n  font-size: 26rpx;\r\n}\r\n\r\n/* 明细列表样式 */\r\n.detail-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.detail-item {\r\n  padding: 20rpx 0;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.detail-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.detail-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n}\r\n\r\n.detail-info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.detail-amount {\r\n  display: flex;\r\n  align-items: baseline;\r\n}\r\n\r\n.detail-amount .currency-symbol {\r\n  font-size: 22rpx;\r\n  color: #333;\r\n  margin-right: 4rpx;\r\n}\r\n\r\n.detail-amount .amount-number {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.detail-status {\r\n  font-size: 24rpx;\r\n  padding: 6rpx 12rpx;\r\n  border-radius: 6rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.detail-status-frozen {\r\n  color: #909399;\r\n  background: #f4f4f5;\r\n}\r\n\r\n.detail-status-pending {\r\n  color: #e6a23c;\r\n  background: #fdf6ec;\r\n}\r\n\r\n.detail-status-settled {\r\n  color: #67c23a;\r\n  background: #f0f9ff;\r\n}\r\n\r\n.detail-status-refund {\r\n  color: #f56c6c;\r\n  background: #fef0f0;\r\n}\r\n\r\n.settlement-time {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  padding: 8rpx 12rpx;\r\n  background: #fff7e6;\r\n  border-radius: 6rpx;\r\n  border-left: 3rpx solid #e6a23c;\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/pages/ECommerce/pages/distribution-list.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","Decimal","distributionAPI","uni","onLoad","onShow"],"mappings":"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"}