{"version":3,"file":"mine-ticket.js","sources":["pages/ECommerce/pages/mine-ticket.vue","pages/ECommerce/pages/mine-ticket.vue?type=page"],"sourcesContent":["<template>\r\n  <custom-navigation-bar :back=\"true\" position=\"flex\" title=\"我的票务\" />\r\n\r\n  <view class=\"mine-ticket-page\">\r\n    <view class=\"ticket-list\">\r\n      <view \r\n        v-for=\"ticket in ticketList\" \r\n        :key=\"ticket.id\" \r\n        class=\"ticket-item\"\r\n      >\r\n        <view class=\"ticket-image\">\r\n          <image \r\n            :src=\"ticket?.theme?.posterUrl\" \r\n            class=\"ticket-img\"\r\n            mode=\"aspectFill\"\r\n          />\r\n        </view>\r\n        <view class=\"ticket-info\">\r\n          <view class=\"ticket-name\">{{ ticket?.ticket?.name }}</view>\r\n          <view class=\"remaining-count\">\r\n            剩余核销次数：{{ ticket.remainingValidationCount }}\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <view v-if=\"ticketList.length === 0\" class=\"empty-state\">\r\n      <text>暂无票券</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { onLoad } from '@dcloudio/uni-app'\r\nimport { ref } from 'vue'\r\nimport { ticket as ticketAPI } from '@/api'\r\n\r\nconst ticketList = ref([])\r\n\r\n// 查询我的票列表\r\nconst queryMineTickets = async () => {\r\n  const params = {\r\n    usable: true\r\n  }\r\n  const response = await ticketAPI.queryMine(params)\r\n  if (response && response.records) {\r\n    ticketList.value = response.records\r\n  }\r\n}\r\n\r\nonLoad(() => {\r\n  queryMineTickets()\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.mine-ticket-page {\r\n  padding: 20rpx;\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n}\r\n\r\n.ticket-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n}\r\n\r\n.ticket-item {\r\n  display: flex;\r\n  background-color: #fff;\r\n  border-radius: 16rpx;\r\n  padding: 20rpx;\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.ticket-image {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.ticket-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.ticket-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.ticket-name {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 16rpx;\r\n  line-height: 1.4;\r\n}\r\n\r\n.remaining-count {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  line-height: 1.3;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 400rpx;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/pages/ECommerce/pages/mine-ticket.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","ticketAPI","onLoad"],"mappings":";;;;;;;;;;;;;;AAqCA,UAAM,aAAaA,cAAG,IAAC,EAAE;AAGzB,UAAM,mBAAmB,YAAY;AACnC,YAAM,SAAS;AAAA,QACb,QAAQ;AAAA,MACT;AACD,YAAM,WAAW,MAAMC,qBAAU,UAAU,MAAM;AACjD,UAAI,YAAY,SAAS,SAAS;AAChC,mBAAW,QAAQ,SAAS;AAAA,MAC7B;AAAA,IACH;AAEAC,kBAAAA,OAAO,MAAM;AACX,uBAAkB;AAAA,IACpB,CAAC;;;;;;;;;;;;;;;;;;;;;;;ACnDD,GAAG,WAAW,eAAe;"}