{"version":3,"file":"index.js","sources":["pages/base/pages/index.vue","pages/base/pages/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 橙色渐变背景 -->\r\n\t\t<view class=\"gradient-bg\"></view>\r\n\r\n\t\t<custom-navigation-bar position=\"flex\" />\r\n\t\t\r\n\t\t<!-- Banner轮播图 -->\r\n\t\t<view class=\"banner-container\" v-if=\"bannerList.length > 0\">\r\n\t\t\t<swiper \r\n\t\t\t\tclass=\"banner-swiper\" \r\n\t\t\t\t:autoplay=\"true\" \r\n\t\t\t\t:interval=\"3000\" \r\n\t\t\t\t:duration=\"500\"\r\n\t\t\t\t:indicator-dots=\"true\"\r\n\t\t\t\tindicator-color=\"rgba(255, 255, 255, 0.5)\"\r\n\t\t\t\tindicator-active-color=\"#ffffff\"\r\n\t\t\t>\r\n\t\t\t\t<swiper-item v-for=\"(banner, index) in bannerList\" :key=\"index\">\r\n\t\t\t\t\t<image \r\n\t\t\t\t\t\t:src=\"banner.imageUrl || banner.image\" \r\n\t\t\t\t\t\tclass=\"banner-image\" \r\n\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t@click=\"handleBannerClick(banner)\"\r\n\t\t\t\t\t></image>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 功能图标区域 -->\r\n\t\t<view class=\"function-icons\">\r\n\t\t\t<view class=\"icon-item\" @click=\"showQueuePopup\">\r\n\t\t\t\t<view class=\"icon-wrapper\">\r\n\t\t\t\t\t<image class=\"icon\" src=\"../static/icon-queue.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"icon-text\">排队</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"icon-item\" @click=\"goToStore\">\r\n\t\t\t\t<view class=\"icon-wrapper\">\r\n\t\t\t\t\t<image class=\"icon\" src=\"../static/icon-theme.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"icon-text\">主题介绍</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"icon-item\" @click=\"showGameTip\">\r\n\t\t\t\t<view class=\"icon-wrapper\">\r\n\t\t\t\t\t<image class=\"icon\" src=\"../static/icon-game.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"icon-text\">游戏</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 门票展示区域 -->\r\n\t\t<view class=\"ticket-section\">\r\n\t\t\t<view class=\"section-title\">门票</view>\r\n\t\t\t<view class=\"ticket-list\">\r\n\t\t\t\t<view class=\"ticket-item\" \r\n\t\t\t\t\t  v-for=\"ticket in displayTickets\" \r\n\t\t\t\t\t  :key=\"ticket.id\"\r\n\t\t\t\t\t  @click=\"goToTicketDetail(ticket.id)\">\r\n\t\t\t\t\t<!-- 封面图 -->\r\n\t\t\t\t\t<view class=\"ticket-cover\" v-if=\"ticket.posterUrl\">\r\n\t\t\t\t\t\t<image :src=\"ticket.posterUrl\" \r\n\t\t\t\t\t\t\t   class=\"cover-image\" \r\n\t\t\t\t\t\t\t   mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 票务信息 -->\r\n\t\t\t\t\t<view class=\"ticket-info\">\r\n\t\t\t\t\t\t<text class=\"ticket-name\">{{ ticket.name }}</text>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 价格信息 -->\r\n\t\t\t\t\t\t<view class=\"price-info\">\r\n\t\t\t\t\t\t\t<!-- 有原价且与现价不同时显示原价 -->\r\n\t\t\t\t\t\t\t<text class=\"original-price\" \r\n\t\t\t\t\t\t\t\t  v-if=\"ticket.originalPrice && ticket.originalPrice !== ticket.currentPrice\">\r\n\t\t\t\t\t\t\t\t¥{{ formatPrice(ticket.originalPrice) }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<!-- 现价 -->\r\n\t\t\t\t\t\t\t<text class=\"current-price\">\r\n\t\t\t\t\t\t\t\t¥{{ formatPrice(ticket.currentPrice) }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 抢购按钮 -->\r\n\t\t\t\t\t<view class=\"buy-button\">\r\n\t\t\t\t\t\t<text class=\"buy-text\">立即购买</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"show-all\" @click=\"goToTicketList\">\r\n\t\t\t\t<text class=\"show-all-text\">显示全部</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 游戏项目区域 -->\r\n\t\t<view class=\"game-section\">\r\n\t\t\t<view class=\"section-title\">游戏项目</view>\r\n\t\t\t<scroll-view class=\"game-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t\t<view class=\"game-list\">\r\n\t\t\t\t\t<view class=\"game-item\" \r\n\t\t\t\t\t\t  v-for=\"theme in themeList\" \r\n\t\t\t\t\t\t  :key=\"theme.id\">\r\n\t\t\t\t\t\t<view class=\"game-cover\">\r\n\t\t\t\t\t\t\t<image :src=\"theme.posterUrl\" \r\n\t\t\t\t\t\t\t\t   class=\"game-image\" \r\n\t\t\t\t\t\t\t\t   mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"game-name\">{{ theme.themeName || theme.name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 活动区域 -->\r\n\t\t<view class=\"activity-section\" v-if=\"activityList.length > 0\">\r\n\t\t\t<view class=\"section-title\">活动</view>\r\n\t\t\t<view class=\"activity-container\">\r\n\t\t\t\t<swiper class=\"activity-swiper\" :autoplay=\"true\" :interval=\"4000\" :duration=\"500\">\r\n\t\t\t\t\t<swiper-item v-for=\"(activity, index) in activityList\" :key=\"index\">\r\n\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t:src=\"activity.imageUrl || activity.image\" \r\n\t\t\t\t\t\t\tclass=\"activity-image\" \r\n\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t\t@click=\"handleBannerClick(activity)\"\r\n\t\t\t\t\t\t></image>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\r\n\t<!-- 排队时间弹出层 -->\r\n\t<uni-popup ref=\"queuePopup\" type=\"center\" :mask-click=\"true\">\r\n\t\t<view class=\"queue-popup\">\r\n\t\t\t<view class=\"queue-popup-header\">\r\n\t\t\t\t<text class=\"queue-popup-title\">排队时间</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"queue-popup-content\">\r\n\t\t\t\t<view v-if=\"themeList.length === 0\" class=\"no-data\">\r\n\t\t\t\t\t<text>暂无主题数据</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else class=\"queue-list\">\r\n\t\t\t\t\t<view v-for=\"(theme, index) in themeList\" :key=\"index\" class=\"queue-item\">\r\n\t\t\t\t\t\t<view class=\"theme-info\">\r\n\t\t\t\t\t\t\t<text class=\"theme-name\">{{ theme.themeName || theme.name || '未知主题' }}</text>\r\n\t\t\t\t\t\t\t<text class=\"queue-duration\">{{ formatQueueDuration(theme.queueDuration || 0) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</uni-popup>\r\n\r\n\t<tab-bar />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { onLoad } from '@dcloudio/uni-app'\r\nimport { banner as bannerAPI, theme as themeAPI, ticket as ticketAPI } from '@/api'\r\nimport { setFromSalesId } from '@/common/storage'\r\nimport Decimal from 'decimal.js'\r\n\r\nconst bannerList = ref([])\r\nconst themeList = ref([])\r\nconst ticketList = ref([])\r\nconst activityList = ref([])\r\nconst queuePopup = ref(null)\r\n\r\n// 显示的门票列表（从第3个开始显示2条）\r\nconst displayTickets = computed(() => {\r\n\treturn ticketList.value.slice(2, 4)\r\n})\r\n\r\n// 格式化排队时间显示\r\nconst formatQueueDuration = (minutes) => {\r\n\tif (minutes >= 60) {\r\n\t\tconst hours = Math.floor(minutes / 60)\r\n\t\tconst remainingMinutes = minutes % 60\r\n\t\tif (remainingMinutes === 0) {\r\n\t\t\treturn `${hours}小时`\r\n\t\t} else {\r\n\t\t\treturn `${hours}小时${remainingMinutes}分钟`\r\n\t\t}\r\n\t} else {\r\n\t\treturn `${minutes}分钟`\r\n\t}\r\n}\r\n\r\n// 格式化价格（分转元）\r\nconst formatPrice = (price) => {\r\n\tif (!price) return '0'\r\n\treturn new Decimal(price).div(100).toNumber()\r\n}\r\n\r\n// 获取banner列表\r\nconst getBannerList = async () => {\r\n\ttry {\r\n\t\tconst res = await bannerAPI.query({ group: 'banner' })\r\n\t\tif (res && res.records) {\r\n\t\t\tbannerList.value = res.records.filter(item => item.group === 'banner')\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('获取banner列表失败:', error)\r\n\t}\r\n}\r\n\r\n// 获取活动列表\r\nconst getActivityList = async () => {\r\n\ttry {\r\n\t\tconst res = await bannerAPI.query({ group: 'activity' })\r\n\t\tif (res && res.records) {\r\n\t\t\tactivityList.value = res.records.filter(item => item.group === 'activity')\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('获取活动列表失败:', error)\r\n\t}\r\n}\r\n\r\n// 获取门票列表\r\nconst getTicketList = async () => {\r\n\ttry {\r\n\t\tconst res = await ticketAPI.query({})\r\n\t\tif (res && res.records) {\r\n\t\t\tticketList.value = res.records\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('获取门票列表失败:', error)\r\n\t}\r\n}\r\n\r\n// 获取主题列表\r\nconst getThemeList = async () => {\r\n\ttry {\r\n\t\tconst res = await themeAPI.query()\r\n\t\tif (res && res.records) {\r\n\t\t\tthemeList.value = res.records\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('获取主题列表失败:', error)\r\n\t}\r\n}\r\n\r\n// 跳转到商店页面\r\nconst goToStore = () => {\r\n\tuni.navigateTo({\r\n\t\turl: '/pages/base/pages/store?id=1'\r\n\t})\r\n}\r\n\r\n// 显示游戏提示\r\nconst showGameTip = () => {\r\n\tuni.showToast({\r\n\t\ttitle: '即将开放，敬请期待',\r\n\t\ticon: 'none'\r\n\t})\r\n}\r\n\r\n// 跳转到门票详情\r\nconst goToTicketDetail = (ticketId) => {\r\n\tuni.navigateTo({\r\n\t\turl: `/pages/ECommerce/pages/ticket-detail?id=${ticketId}`\r\n\t})\r\n}\r\n\r\n// 跳转到门票列表\r\nconst goToTicketList = () => {\r\n\tuni.switchTab({\r\n\t\turl: '/pages/ECommerce/pages/ticket-list'\r\n\t})\r\n}\r\n\r\n// 显示排队时间弹出层\r\nconst showQueuePopup = async () => {\r\n\t// 重新获取最新的主题数据\r\n\tawait getThemeList()\r\n\tqueuePopup.value.open()\r\n}\r\n\r\n// 关闭排队时间弹出层\r\nconst closeQueuePopup = () => {\r\n\tqueuePopup.value.close()\r\n}\r\n\r\n// Banner点击事件处理\r\nconst handleBannerClick = (banner) => {\r\n\tif (!banner.redirectionPath) {\r\n\t\treturn\r\n\t}\r\n\t\r\n\tconst redirectionPath = banner.redirectionPath\r\n\t\r\n\t// 如果是http开头，打开webview\r\n\tif (redirectionPath.startsWith('http')) {\r\n\t\tconst title = banner.title || banner.name || '网页浏览'\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/pages/base/pages/webview?url=${encodeURIComponent(redirectionPath)}&title=${encodeURIComponent(title)}`\r\n\t\t})\r\n\t}\r\n\t// 如果是/pages开头，跳转小程序页面\r\n\telse if (redirectionPath.startsWith('/pages')) {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: redirectionPath\r\n\t\t})\r\n\t}\r\n\t// 其他情况，尝试作为页面路径处理\r\n\telse {\r\n\t\ttry {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: redirectionPath\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn('无效的跳转路径:', redirectionPath, error)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// 页面加载时获取参数\r\nonLoad((options) => {\r\n\tconst { scene = ''} = options;\r\n\t// 检查是否有sales参数\r\n\tconst sales = scene && decodeURIComponent(scene).split('=')[1]\r\n\tif(sales) {\r\n\t\tsetFromSalesId(sales)\r\n\t}\r\n\t\r\n\t// 获取数据\r\n\tgetBannerList()\r\n\tgetActivityList()\r\n\tgetThemeList()\r\n\tgetTicketList()\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n\tbackground-color: white;\r\n\tposition: relative;\r\n\tmin-height: 100vh;\r\n\tpadding-bottom: calc(100rpx + env(safe-area-inset-bottom));\r\n\toverflow-x: hidden;\r\n}\r\n\r\n/* 橙色渐变背景 */\r\n.gradient-bg {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 640rpx;\r\n\tbackground: linear-gradient(180deg, #ff8c00 0%, rgba(255, 140, 0, 0) 100%);\r\n\tz-index: 1;\r\n}\r\n\r\n/* Banner区域 */\r\n.banner-container {\r\n\twidth: 100%;\r\n\theight: 400rpx;\r\n\tposition: relative;\r\n\tz-index: 2;\r\n\tpadding: 20rpx 30rpx;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.banner-swiper {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 20rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n.banner-image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 20rpx;\r\n}\r\n\r\n/* 轮播指示点样式 - 通过swiper属性设置 */\r\n\r\n/* 功能图标区域 */\r\n.function-icons {\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\tposition: relative;\r\n\tz-index: 3;\r\n}\r\n\r\n.icon-item {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tgap: 15rpx;\r\n}\r\n\r\n.icon-wrapper {\r\n\twidth: 100rpx;\r\n\theight: 100rpx;\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 60rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tbox-shadow: 0 8rpx 30rpx rgba(0, 0, 0, 0.1);\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.icon-wrapper:active {\r\n\ttransform: scale(0.95);\r\n}\r\n\r\n.icon {\r\n\tfont-size: 60rpx;\r\n}\r\n\r\n.icon-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 500;\r\n}\r\n\r\n/* 通用区域标题 */\r\n.section-title {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tpadding: 30rpx 30rpx 20rpx;\r\n}\r\n\r\n/* 门票展示区域 */\r\n.ticket-section {\r\n\tmargin-top: 20rpx;\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 20rpx 20rpx 0 0;\r\n\tposition: relative;\r\n\tz-index: 3;\r\n}\r\n\r\n.ticket-list {\r\n\tpadding: 0 20rpx;\r\n}\r\n\r\n.ticket-item {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 20rpx;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);\r\n\ttransition: all 0.3s ease;\r\n\tborder: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.ticket-item:active {\r\n\ttransform: scale(0.98);\r\n\tbackground-color: #f8f8f8;\r\n}\r\n\r\n.ticket-cover {\r\n\twidth: 240rpx;\r\n\theight: 140rpx;\r\n\tborder-radius: 12rpx;\r\n\toverflow: hidden;\r\n\tmargin-right: 40rpx;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.cover-image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.ticket-info {\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n}\r\n\r\n.ticket-name {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 15rpx;\r\n\tline-height: 1.4;\r\n}\r\n\r\n.price-info {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 15rpx;\r\n}\r\n\r\n.original-price {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n\ttext-decoration: line-through;\r\n}\r\n\r\n.current-price {\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #ff4444;\r\n}\r\n\r\n.buy-button {\r\n\tpadding: 15rpx 25rpx;\r\n\tbackground: linear-gradient(135deg, #ff8c00 0%, #ff6b00 100%);\r\n\tborder-radius: 25rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tflex-shrink: 0;\r\n\tbox-shadow: 0 4rpx 15rpx rgba(255, 140, 0, 0.3);\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.buy-button:active {\r\n\ttransform: scale(0.95);\r\n}\r\n\r\n.buy-text {\r\n\tfont-size: 24rpx;\r\n\tcolor: #ffffff;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.show-all {\r\n\ttext-align: center;\r\n}\r\n\r\n.show-all-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #999999;\r\n\tfont-weight: 500;\r\n}\r\n\r\n/* 游戏项目区域 */\r\n.game-section {\r\n\tmargin-top: 20rpx;\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 20rpx;\r\n\tposition: relative;\r\n\tz-index: 3;\r\n}\r\n\r\n.game-scroll {\r\n\tpadding: 0 20rpx 30rpx;\r\n}\r\n\r\n/* 隐藏横向滚动条 */\r\n.game-scroll ::-webkit-scrollbar {\r\n\tdisplay: none;\r\n}\r\n\r\n.game-scroll {\r\n\t-ms-overflow-style: none;\r\n\tscrollbar-width: none;\r\n}\r\n\r\n.game-list {\r\n\tdisplay: flex;\r\n\tgap: 20rpx;\r\n\tpadding-right: 20rpx;\r\n}\r\n\r\n.game-item {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tgap: 15rpx;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.game-cover {\r\n\twidth: 200rpx;\r\n\theight: 120rpx;\r\n\tborder-radius: 12rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n.game-image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.game-name {\r\n\tfont-size: 26rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 500;\r\n\ttext-align: center;\r\n\twidth: 200rpx;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n/* 活动区域 */\r\n.activity-section {\r\n\tmargin-top: 20rpx;\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 20rpx;\r\n\tposition: relative;\r\n\tz-index: 3;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.activity-container {\r\n\tpadding: 0 20rpx 30rpx;\r\n}\r\n\r\n.activity-swiper {\r\n\twidth: 100%;\r\n\theight: 300rpx;\r\n\tborder-radius: 20rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n.activity-image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 80rpx;\r\n}\r\n\r\n/* 排队时间弹出层样式 */\r\n.queue-popup {\r\n\twidth: 600rpx;\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 20rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n.queue-popup-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 30rpx 40rpx;\r\n\tbackground-color: #f8f9fa;\r\n\tborder-bottom: 1rpx solid #e9ecef;\r\n}\r\n\r\n.queue-popup-title {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333333;\r\n}\r\n\r\n.close-icon {\r\n\tfont-size: 40rpx;\r\n\tcolor: #666666;\r\n\tline-height: 1;\r\n}\r\n\r\n.queue-popup-content {\r\n\tpadding: 40rpx;\r\n\tmax-height: 800rpx;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.no-data {\r\n\ttext-align: center;\r\n\tpadding: 80rpx 0;\r\n\tcolor: #999999;\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n.queue-list {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 20rpx;\r\n}\r\n\r\n.queue-item {\r\n\tpadding: 30rpx;\r\n\tbackground-color: #f8f9fa;\r\n\tborder-radius: 12rpx;\r\n\tborder: 1rpx solid #e9ecef;\r\n}\r\n\r\n.theme-info {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n\r\n.theme-name {\r\n\tfont-size: 32rpx;\r\n\tcolor: #333333;\r\n\tfont-weight: 500;\r\n\tflex: 1;\r\n}\r\n\r\n.queue-duration {\r\n\tfont-size: 28rpx;\r\n\tcolor: #007aff;\r\n\tfont-weight: bold;\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/pages/base/pages/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","Decimal","bannerAPI","uni","ticketAPI","themeAPI","onLoad","setFromSalesId"],"mappings":"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"}