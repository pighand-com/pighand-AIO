{"version":3,"file":"mine.js","sources":["pages/base/pages/mine.vue","pages/base/pages/mine.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<custom-navigation-bar :back=\"false\" position=\"flex\" />\r\n\r\n\t\t<!-- 背景图片 -->\r\n\t\t<view class=\"bg-container\">\r\n\t\t\t<image class=\"bg-image\" src=\"https://pighand-dev-1253579824.cos.ap-beijing.myqcloud.com/banner/4_1750729268223_0_60.png\" mode=\"widthFix\"></image>\r\n\t\t\t<view class=\"bg-gradient\"></view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 内容容器 -->\r\n\t\t<view class=\"content-container\">\r\n\t\t\t<!-- 用户信息区域 -->\r\n\t\t\t<view class=\"user-info\">\r\n\t\t\t\t<!-- 头像 -->\r\n\t\t\t\t<user-check :item=\"['login', 'avatar']\">\r\n\t\t\t\t\t<view class=\"avatar-container\">\r\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"userInfo?.avatar || defaultAvatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</user-check>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 手机号 -->\r\n\t\t\t\t<view class=\"phone-container\">\r\n\t\t\t\t\t<user-check :item=\"['login', 'phone']\">\r\n\t\t\t\t\t\t<text class=\"phone-text\">{{ userInfo?.phone || '获取手机号' }}</text>\r\n\t\t\t\t\t</user-check>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 右侧图标区域 -->\r\n\t\t\t\t<view class=\"icon-group\">\r\n\t\t\t\t\t<!-- 分销二维码图标 -->\r\n\t\t\t\t\t<view class=\"qr-icon-container\" v-if=\"salespersonId\" @click=\"showDistributionQR\">\r\n\t\t\t\t\t\t<view class=\"qr-icon\">\r\n\t\t\t\t\t\t\t<image src=\"../static/qr-code.svg\" class=\"qr-icon-image\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 设置图标 -->\r\n\t\t\t\t\t<view v-if=\"isLogin\" class=\"settings-icon-container\" @click=\"showSettings\">\r\n\t\t\t\t\t\t<view class=\"settings-icon\">\r\n\t\t\t\t\t\t\t<image src=\"../static/setting.svg\" class=\"settings-icon-image\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 订单区域 -->\r\n\t\t\t<view class=\"order-section\">\r\n\t\t\t\t<user-check :item=\"['login']\">\r\n\t\t\t\t\t<view class=\"order-box\" @click=\"goToOrder\">\r\n\t\t\t\t\t\t<text class=\"order-text\">我的订单</text>\r\n\t\t\t\t\t\t<text class=\"order-arrow\">></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</user-check>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 票务区域 -->\r\n\t\t\t<view class=\"ticket-section\">\r\n\t\t\t\t<user-check :item=\"['login']\">\r\n\t\t\t\t\t<view class=\"ticket-box\" @click=\"goToTicket\">\r\n\t\t\t\t\t\t<text class=\"ticket-text\">我的票务</text>\r\n\t\t\t\t\t\t<text class=\"ticket-arrow\">></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</user-check>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 分销区域 -->\r\n\t\t\t<view class=\"distribution-section\" v-if=\"salespersonId\">\r\n\t\t\t\t<user-check :item=\"['login']\">\r\n\t\t\t\t\t<view class=\"distribution-box\" @click=\"goToDistribution\">\r\n\t\t\t\t\t\t<text class=\"distribution-text\">我的分销</text>\r\n\t\t\t\t\t\t<text class=\"distribution-arrow\">></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</user-check>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 排队设置区域 -->\r\n\t\t\t<view class=\"queue-section\" v-if=\"isStaff\">\r\n\t\t\t\t<user-check :item=\"['login']\">\r\n\t\t\t\t\t<view class=\"queue-box\" @click=\"goToQueueSettings\">\r\n\t\t\t\t\t\t<text class=\"queue-text\">排队设置</text>\r\n\t\t\t\t\t\t<text class=\"queue-arrow\">></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</user-check>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<tab-bar />\r\n\t\t\r\n\t\t<!-- 联系我们悬浮按钮 -->\r\n\t\t<view class=\"contact-float-btn\" @click=\"showContactModal\">\r\n\t\t\t<image src=\"../static/phone-icon.svg\" class=\"contact-phone-icon\" mode=\"aspectFit\"></image>\r\n\t\t\t<text class=\"contact-float-text\">联系我们</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 分销二维码弹窗 -->\r\n\t\t<view class=\"qr-modal\" v-if=\"isQrModalVisible\" @click=\"hideQrModal\">\r\n\t\t\t<view class=\"qr-modal-content\" @click.stop>\r\n\t\t\t\t<view class=\"qr-image-container\">\r\n\t\t\t\t\t<image :src=\"distributionQrCode\" mode=\"aspectFit\" class=\"qr-image\" show-menu-by-longpress></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"qr-tip\">长按保存二维码</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 设置弹窗 -->\r\n\t\t<view class=\"settings-modal\" v-if=\"isSettingsModalVisible\" @click=\"hideSettings\">\r\n\t\t\t<view class=\"settings-modal-content\" @click.stop>\r\n\t\t\t\t<view class=\"settings-header\">\r\n\t\t\t\t\t<text class=\"settings-title\">设置</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"settings-body\">\r\n\t\t\t\t\t<view class=\"settings-item\" @click=\"logout\">\r\n\t\t\t\t\t\t<text class=\"settings-item-text\">退出登录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 联系我们弹窗 -->\r\n\t\t<view class=\"contact-modal\" v-if=\"isContactModalVisible\" @click=\"hideContactModal\">\r\n\t\t\t<view class=\"contact-modal-content\" @click.stop>\r\n\t\t\t\t<view class=\"contact-header\">\r\n\t\t\t\t\t<text class=\"contact-title\">联系我们</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"contact-body\">\r\n\t\t\t\t\t<view class=\"contact-item\" @click=\"makePhoneCall('投诉反馈')\">\r\n\t\t\t\t\t\t<image src=\"../static/phone-icon.svg\" class=\"contact-item-icon\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<text class=\"contact-item-text\">投诉反馈</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"contact-item\" @click=\"makePhoneCall('品牌合作')\">\r\n\t\t\t\t\t\t<image src=\"../static/phone-icon.svg\" class=\"contact-item-icon\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<text class=\"contact-item-text\">品牌合作</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { onShow, onLoad } from '@dcloudio/uni-app'\r\nimport { ref, onMounted, onUnmounted, computed } from 'vue'\r\nimport { getUserInfo, getToken, getSalespersonId, setSalespersonId, clearAll } from '@/common/storage'\r\nimport { distribution as distributionAPI } from '@/api'\r\n\r\nimport defaultAvatar from '../static/default-avatar.jpg'\r\n\r\nconst isLogin = ref(!!getToken())\r\nconst userInfo = ref(getUserInfo())\r\nconst salespersonId = ref(getSalespersonId())\r\nconst isQrModalVisible = ref(false)\r\nconst distributionQrCode = ref('')\r\nconst isSettingsModalVisible = ref(false)\r\nconst isContactModalVisible = ref(false)\r\nconst isStaff = ref(false)\r\n\r\n// 检查用户是否为工作人员（roleId=9000）\r\nconst checkIsStaff = async () => {\r\n    const user = userInfo.value\r\n\r\n\tisStaff.value = user?.roles\r\n\t\t&& Array.isArray(user.roles)\r\n\t\t&& user.roles.some(role => role.roleId == 9000)\r\n}\r\n\r\n// 检查并设置salespersonId\r\nconst checkAndSetSalespersonId = async () => {\r\n    const token = getToken()\r\n    if (!token) {\r\n        salespersonId.value = null\r\n        return // 未登录直接返回\r\n    }\r\n    \r\n    const currentSalespersonId = getSalespersonId()\r\n    if (currentSalespersonId) {\r\n        salespersonId.value = currentSalespersonId\r\n        return // 已设置直接返回\r\n    }\r\n    \r\n    try {\r\n        const response = await distributionAPI.salesperson()\r\n        if (response) {\r\n            setSalespersonId(response)\r\n            salespersonId.value = response\r\n        }\r\n    } catch (error) {\r\n        console.log('获取销售员ID失败:', error)\r\n    }\r\n}\r\n\r\n// 监听storage变化\r\nconst handleStorageChange = () => {\r\n    userInfo.value = getUserInfo()\r\n\tisLogin.value = !!getToken()\r\n\r\n\tcheckIsStaff()\r\n\r\n    checkAndSetSalespersonId()\r\n}\r\n\r\n// 页面显示时检查salespersonId\r\nonShow(() => {\r\n    handleStorageChange()\r\n})\r\n\r\nuni.$on('storage-changed', handleStorageChange)\r\n\r\n// 组件卸载时移除监听器\r\nonUnmounted(() => {\r\n    uni.$off('storage-changed', handleStorageChange)\r\n})\r\n\r\n\r\n// 跳转到订单页面\r\nfunction goToOrder() {\r\n    uni.navigateTo({\r\n        url: '/pages/ECommerce/pages/order-list'\r\n    })\r\n}\r\n\r\n// 跳转到票务页面\r\nfunction goToTicket() {\r\n    uni.navigateTo({\r\n        url: '/pages/ECommerce/pages/mine-ticket'\r\n    })\r\n}\r\n\r\n// 跳转到分销页面\r\nfunction goToDistribution() {\r\n    uni.navigateTo({\r\n        url: '/pages/ECommerce/pages/distribution-list'\r\n    })\r\n}\r\n\r\n// 跳转到排队设置页面\r\nfunction goToQueueSettings() {\r\n    uni.navigateTo({\r\n        url: '/pages/ECommerce/pages/queue-setting'\r\n    })\r\n}\r\n// 显示分销二维码\r\nconst showDistributionQR = async () => {\r\n    try {\r\n        const response = await distributionAPI.QRCode()\r\n        if (response) {\r\n            distributionQrCode.value = `data:image/png;base64,${response}`\r\n            isQrModalVisible.value = true\r\n        } else {\r\n            uni.showToast({\r\n                title: '获取二维码失败',\r\n                icon: 'none'\r\n            })\r\n        }\r\n    } catch (error) {\r\n        console.log('获取分销二维码失败:', error)\r\n        uni.showToast({\r\n            title: '获取二维码失败',\r\n            icon: 'none'\r\n        })\r\n    }\r\n}\r\n\r\n// 隐藏二维码弹窗\r\nconst hideQrModal = () => {\r\n    isQrModalVisible.value = false\r\n}\r\n\r\n// 显示设置弹窗\r\nconst showSettings = () => {\r\n    isSettingsModalVisible.value = true\r\n}\r\n\r\n// 隐藏设置弹窗\r\nconst hideSettings = () => {\r\n    isSettingsModalVisible.value = false\r\n}\r\n\r\n// 退出登录\r\nconst logout = () => {\r\n    uni.showModal({\r\n        title: '确认退出',\r\n        content: '确定要退出登录吗？',\r\n        success: (res) => {\r\n            if (res.confirm) {\r\n                clearAll()\r\n                hideSettings()\r\n                uni.showToast({\r\n                    title: '已退出登录',\r\n                    icon: 'success'\r\n                })\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n// 显示联系我们弹窗\r\nconst showContactModal = () => {\r\n    isContactModalVisible.value = true\r\n}\r\n\r\n// 隐藏联系我们弹窗\r\nconst hideContactModal = () => {\r\n    isContactModalVisible.value = false\r\n}\r\n\r\n// 拨打电话\r\nconst makePhoneCall = (type) => {\r\n    hideContactModal()\r\n    uni.makePhoneCall({\r\n        phoneNumber: '18182400663',\r\n        success: () => {\r\n            console.log(`${type}电话拨打成功`)\r\n        },\r\n        fail: (err) => {\r\n            console.log(`${type}电话拨打失败:`, err)\r\n            uni.showToast({\r\n                title: '拨打失败',\r\n                icon: 'none'\r\n            })\r\n        }\r\n    })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n\tposition: relative;\r\n\tmin-height: 100vh;\r\n}\r\n\r\n.bg-container {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tz-index: 0;\r\n}\r\n\r\n.bg-image {\r\n\twidth: 100%;\r\n\theight: auto;\r\n\tdisplay: block;\r\n}\r\n\r\n.bg-gradient {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground: linear-gradient(to bottom, transparent 0%,#fff 60%, #fff 100%);\r\n}\r\n\r\n.content-container {\r\n\tmargin: 60rpx 30rpx;\r\n\tbackground: rgba(255, 255, 255, 0.15);\r\n\tborder-radius: 32rpx;\r\n\tbox-shadow: 0 16rpx 48rpx rgba(0, 0, 0, 0.2);\r\n\tbackdrop-filter: blur(20rpx);\r\n\tborder: 2rpx solid rgba(255, 255, 255, 0.2);\r\n\tposition: relative;\r\n\tz-index: 1;\r\n\tpadding: 48rpx;\r\n}\r\n\r\n.user-info {\r\n\tdisplay: flex;\r\n    align-items: center;\r\n    margin-bottom: 48rpx;\r\n    padding-bottom: 32rpx;\r\n    border-bottom: 2rpx solid rgba(255, 255, 255, 0.3);\r\n    gap: 20rpx; /* 添加元素间距 */\r\n}\r\n\r\n.avatar-container {\r\n\tflex-shrink: 0; /* 防止头像被压缩 */\r\n}\r\n\r\n.avatar {\r\n\twidth: 140rpx;\r\n\theight: 140rpx;\r\n\tborder-radius: 70rpx;\r\n\tborder: 6rpx solid rgba(255, 255, 255, 0.4);\r\n\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.phone-container {\r\n\tflex: 1;\r\n\tmin-width: 0; /* 允许文本截断 */\r\n\tmargin-right: 20rpx; /* 给右侧图标留出空间 */\r\n}\r\n\r\n.phone-text {\r\n\tfont-size: 36rpx;\r\n\tcolor: #fff;\r\n\tfont-weight: 600;\r\n\ttext-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.3);\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap; /* 防止长手机号换行 */\r\n}\r\n\r\n.order-section {\r\n\t/* 移除padding，因为已经在content-container中设置 */\r\n}\r\n\r\n.ticket-section {\r\n\tmargin-top: 32rpx;\r\n}\r\n\r\n.distribution-section {\r\n\tmargin-top: 32rpx;\r\n}\r\n\r\n.queue-section {\r\n\tmargin-top: 32rpx;\r\n}\r\n\r\n.order-box {\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.25));\r\n\tborder-radius: 24rpx;\r\n\tpadding: 48rpx 36rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbox-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.25), 0 0 0 2rpx rgba(255, 255, 255, 0.4);\r\n\tborder: 3rpx solid rgba(255, 255, 255, 0.4);\r\n\tbackdrop-filter: blur(15rpx);\r\n\ttransition: all 0.3s ease;\r\n\tposition: relative;\r\n}\r\n\r\n.order-text {\r\n\tfont-size: 36rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 600;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.order-arrow {\r\n\tfont-size: 36rpx;\r\n\tcolor: #666;\r\n\tfont-weight: bold;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.order-box::before {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -2rpx;\r\n\tleft: -2rpx;\r\n\tright: -2rpx;\r\n\tbottom: -2rpx;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3));\r\n\tborder-radius: 26rpx;\r\n\tz-index: -1;\r\n\topacity: 0.8;\r\n}\r\n\r\n.order-box:active {\r\n\ttransform: scale(0.98);\r\n\tbox-shadow: 0 6rpx 24rpx rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.ticket-box {\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.25));\r\n\tborder-radius: 24rpx;\r\n\tpadding: 48rpx 36rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbox-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.25), 0 0 0 2rpx rgba(255, 255, 255, 0.4);\r\n\tborder: 3rpx solid rgba(255, 255, 255, 0.4);\r\n\tbackdrop-filter: blur(15rpx);\r\n\ttransition: all 0.3s ease;\r\n\tposition: relative;\r\n}\r\n\r\n.ticket-text {\r\n\tfont-size: 36rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 600;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.ticket-arrow {\r\n\tfont-size: 36rpx;\r\n\tcolor: #666;\r\n\tfont-weight: bold;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.ticket-box::before {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -2rpx;\r\n\tleft: -2rpx;\r\n\tright: -2rpx;\r\n\tbottom: -2rpx;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3));\r\n\tborder-radius: 26rpx;\r\n\tz-index: -1;\r\n\topacity: 0.8;\r\n}\r\n\r\n.ticket-box:active {\r\n\ttransform: scale(0.98);\r\n\tbox-shadow: 0 6rpx 24rpx rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.distribution-box {\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.25));\r\n\tborder-radius: 24rpx;\r\n\tpadding: 48rpx 36rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbox-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.25), 0 0 0 2rpx rgba(255, 255, 255, 0.4);\r\n\tborder: 3rpx solid rgba(255, 255, 255, 0.4);\r\n\tbackdrop-filter: blur(15rpx);\r\n\ttransition: all 0.3s ease;\r\n\tposition: relative;\r\n}\r\n\r\n.distribution-text {\r\n\tfont-size: 36rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 600;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.distribution-arrow {\r\n\tfont-size: 36rpx;\r\n\tcolor: #666;\r\n\tfont-weight: bold;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.distribution-box::before {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -2rpx;\r\n\tleft: -2rpx;\r\n\tright: -2rpx;\r\n\tbottom: -2rpx;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3));\r\n\tborder-radius: 26rpx;\r\n\tz-index: -1;\r\n\topacity: 0.8;\r\n}\r\n\r\n.distribution-box:active {\r\n\ttransform: scale(0.98);\r\n\tbox-shadow: 0 6rpx 24rpx rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.queue-box {\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.25));\r\n\tborder-radius: 24rpx;\r\n\tpadding: 48rpx 36rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbox-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.25), 0 0 0 2rpx rgba(255, 255, 255, 0.4);\r\n\tborder: 3rpx solid rgba(255, 255, 255, 0.4);\r\n\tbackdrop-filter: blur(15rpx);\r\n\ttransition: all 0.3s ease;\r\n\tposition: relative;\r\n}\r\n\r\n.queue-text {\r\n\tfont-size: 36rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 600;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.queue-arrow {\r\n\tfont-size: 36rpx;\r\n\tcolor: #666;\r\n\tfont-weight: bold;\r\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.queue-box::before {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -2rpx;\r\n\tleft: -2rpx;\r\n\tright: -2rpx;\r\n\tbottom: -2rpx;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3));\r\n\tborder-radius: 26rpx;\r\n\tz-index: -1;\r\n\topacity: 0.8;\r\n}\r\n\r\n.queue-box:active {\r\n\ttransform: scale(0.98);\r\n\tbox-shadow: 0 6rpx 24rpx rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n/* 联系我们悬浮按钮 */\r\n.contact-float-btn {\r\n\tposition: fixed;\r\n\tbottom: 200rpx;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\twidth: 200rpx;\r\n\theight: 80rpx;\r\n\tbackground: linear-gradient(135deg, #F5F5F5, #E8E8E8);\r\n\tborder-radius: 40rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 12rpx;\r\n\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.15);\r\n\tz-index: 1000;\r\n\ttransition: all 0.3s ease;\r\n\tborder: 2rpx solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.contact-float-btn:active {\r\n\ttransform: translateX(-50%) scale(0.95);\r\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n.contact-phone-icon {\r\n\twidth: 32rpx;\r\n\theight: 32rpx;\r\n\tfilter: brightness(0);\r\n}\r\n\r\n.contact-float-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #333333;\r\n\tfont-weight: 600;\r\n}\r\n\r\n/* 二维码图标样式 */\r\n.icon-group {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 32rpx; /* 增加图标间距从20rpx到32rpx */\r\n\tflex-shrink: 0; /* 防止图标被压缩 */\r\n}\r\n\r\n.qr-icon-container {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.qr-icon {\r\n\twidth: 72rpx; /* 稍微减小图标尺寸从80rpx到72rpx */\r\n\theight: 72rpx;\r\n\tborder-radius: 50%;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.25));\r\n\tborder: 3rpx solid rgba(255, 255, 255, 0.4);\r\n\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.2);\r\n\tbackdrop-filter: blur(15rpx);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.qr-icon:active {\r\n\ttransform: scale(0.95);\r\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.qr-icon-image {\r\n\twidth: 36rpx; /* 相应调整图标内部图片尺寸 */\r\n\theight: 36rpx;\r\n}\r\n\r\n/* 设置图标样式 */\r\n.settings-icon-container {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.settings-icon {\r\n\twidth: 72rpx; /* 稍微减小图标尺寸从80rpx到72rpx */\r\n\theight: 72rpx;\r\n\tborder-radius: 50%;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.25));\r\n\tborder: 3rpx solid rgba(255, 255, 255, 0.4);\r\n\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.2);\r\n\tbackdrop-filter: blur(15rpx);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.settings-icon:active {\r\n\ttransform: scale(0.95);\r\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.settings-icon-image {\r\n\twidth: 36rpx; /* 相应调整图标内部图片尺寸 */\r\n\theight: 36rpx;\r\n}\r\n\r\n/* 设置弹窗样式 */\r\n.settings-modal {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tz-index: 2000;\r\n}\r\n\r\n.settings-modal-content {\r\n\twidth: 600rpx;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));\r\n\tborder-radius: 32rpx;\r\n\tbox-shadow: 0 16rpx 48rpx rgba(0, 0, 0, 0.3);\r\n\tbackdrop-filter: blur(20rpx);\r\n\tborder: 2rpx solid rgba(255, 255, 255, 0.3);\r\n\toverflow: hidden;\r\n}\r\n\r\n.settings-header {\r\n\tpadding: 48rpx 48rpx 32rpx;\r\n\tborder-bottom: 2rpx solid rgba(0, 0, 0, 0.1);\r\n\ttext-align: center;\r\n}\r\n\r\n.settings-title {\r\n\tfont-size: 40rpx;\r\n\tfont-weight: 600;\r\n\tcolor: #333;\r\n}\r\n\r\n.settings-body {\r\n\tpadding: 32rpx 48rpx 48rpx;\r\n}\r\n\r\n.settings-item {\r\n\tpadding: 32rpx 0;\r\n\tborder-bottom: 2rpx solid rgba(0, 0, 0, 0.05);\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.settings-item:last-child {\r\n\tborder-bottom: none;\r\n}\r\n\r\n.settings-item:active {\r\n\tbackground-color: rgba(0, 0, 0, 0.05);\r\n\ttransform: scale(0.98);\r\n}\r\n\r\n.settings-item-text {\r\n\tfont-size: 36rpx;\r\n\tcolor: #e74c3c;\r\n\tfont-weight: 500;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n}\r\n\r\n/* 分销二维码弹窗样式 */\r\n.qr-modal {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tz-index: 2000;\r\n}\r\n\r\n.qr-modal-content {\r\n\twidth: 550rpx;\r\n\tpadding: 40rpx;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n\r\n.qr-image-container {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tmargin-bottom: 30rpx;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 30rpx;\r\n\tborder-radius: 20rpx;\r\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.qr-image {\r\n\twidth: 450rpx;\r\n\theight: 450rpx;\r\n\tborder-radius: 20rpx;\r\n}\r\n\r\n.qr-tip {\r\n\tfont-size: 28rpx;\r\n\tcolor: #ffffff;\r\n\tfont-weight: bold;\r\n\ttext-align: center;\r\n\tdisplay: block;\r\n}\r\n\r\n/* 联系我们弹窗样式 */\r\n.contact-modal {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tz-index: 2000;\r\n}\r\n\r\n.contact-modal-content {\r\n\twidth: 600rpx;\r\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));\r\n\tborder-radius: 32rpx;\r\n\tbox-shadow: 0 16rpx 48rpx rgba(0, 0, 0, 0.3);\r\n\tbackdrop-filter: blur(20rpx);\r\n\tborder: 2rpx solid rgba(255, 255, 255, 0.3);\r\n\toverflow: hidden;\r\n}\r\n\r\n.contact-header {\r\n\tpadding: 48rpx 48rpx 32rpx;\r\n\tborder-bottom: 2rpx solid rgba(0, 0, 0, 0.1);\r\n\ttext-align: center;\r\n}\r\n\r\n.contact-title {\r\n\tfont-size: 40rpx;\r\n\tfont-weight: 600;\r\n\tcolor: #333;\r\n}\r\n\r\n.contact-body {\r\n\tpadding: 32rpx 48rpx 48rpx;\r\n}\r\n\r\n.contact-item {\r\n\tpadding: 32rpx 0;\r\n\tborder-bottom: 2rpx solid rgba(0, 0, 0, 0.05);\r\n\ttransition: all 0.3s ease;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 16rpx;\r\n}\r\n\r\n.contact-item:last-child {\r\n\tborder-bottom: none;\r\n}\r\n\r\n.contact-item:active {\r\n\tbackground-color: rgba(0, 0, 0, 0.05);\r\n\ttransform: scale(0.98);\r\n}\r\n\r\n.contact-item-icon {\r\n\twidth: 32rpx;\r\n\theight: 32rpx;\r\n\tfilter: brightness(0);\r\n}\r\n\r\n.contact-item-text {\r\n\tfont-size: 36rpx;\r\n\tcolor: #333;\r\n\tfont-weight: 500;\r\n}\r\n</style>","import MiniProgramPage from '/Users/wangshuli/workspace/mine/pighand/pighand-AIO/client-applet/pages/base/pages/mine.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getToken","getUserInfo","getSalespersonId","distributionAPI","setSalespersonId","uni","onShow","onUnmounted","clearAll"],"mappings":"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"}