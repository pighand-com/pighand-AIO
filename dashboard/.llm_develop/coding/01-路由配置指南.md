# 路由配置指南

## 文件位置
`src/routers/routes.ts`

## 路由结构说明

### 基本路由配置

```typescript
{
    path: '/module-name',           // 路由路径
    name: 'module-name',           // 路由名称
    title: '模块名称',              // 显示标题
    meta: {                        // 路由元信息
        requiresAuth: true,        // 是否需要登录验证
        icon: shallowRef(IconName), // 菜单图标
        pageType: constant.page_type_single, // 页面类型
        default: false             // 是否为默认页面
    },
    children: [                    // 子路由
        // 子路由配置...
    ]
}
```

### 页面类型说明

#### 1. 单页应用 (page_type_single)
- 带有侧边菜单的管理页面
- 适用于大部分后台管理功能
- 示例：用户管理、订单管理等

#### 2. 多页应用 (page_type_multi)
- 独立的全屏页面
- 适用于登录页、错误页等
- 不显示侧边菜单

### 图标导入和使用

```typescript
// 1. 在文件顶部导入所需图标
import {
    BookOne,
    System,
    EveryUser,
    // ... 其他图标
} from '@icon-park/vue-next';

// 2. 在路由配置中使用
meta: {
    icon: shallowRef(BookOne)
}
```

## 添加新路由的步骤

### 步骤1：选择合适的模块位置

根据功能性质，将新路由添加到合适的模块下：
- `/cms` - 内容管理相关
- `/theme` - 主题运营相关
- `/distribution` - 分销相关
- `/marketing` - 营销活动相关
- `/system` - 系统管理相关

### 步骤2：添加路由配置

#### 示例：添加商品管理页面

```typescript
// 1. 导入图标
import { Shop } from '@icon-park/vue-next';

// 2. 在合适的模块children数组中添加
{
    path: 'product',
    name: 'product',
    title: '商品管理',
    meta: {
        icon: shallowRef(Shop)
    },
    component: () => import('@/pages/ECommerce/Product.vue')
}
```

#### 示例：添加新的顶级模块

```typescript
{
    path: '/inventory',
    name: 'inventory',
    title: '库存管理',
    meta: {
        requiresAuth: true,
        icon: shallowRef(Package),
        pageType: constant.page_type_single
    },
    children: [
        {
            path: 'warehouse',
            name: 'warehouse',
            title: '仓库管理',
            meta: {
                icon: shallowRef(Home)
            },
            component: () => import('@/pages/Inventory/Warehouse.vue')
        },
        {
            path: 'stock',
            name: 'stock',
            title: '库存查询',
            meta: {
                icon: shallowRef(Search)
            },
            component: () => import('@/pages/Inventory/Stock.vue')
        }
    ]
}
```

### 步骤3：路由命名规范

#### 路径命名 (path)
- 使用小写字母
- 多个单词用连字符分隔
- 示例：`user-management`, `order-list`

#### 路由名称 (name)
- 使用小写字母
- 多个单词用下划线分隔
- 与path保持一致性
- 示例：`user_management`, `order_list`

#### 组件路径
- 使用PascalCase命名
- 按模块组织目录结构
- 示例：`@/pages/ECommerce/ProductManagement.vue`

## 路由元信息详解

### requiresAuth
- `true`: 需要登录验证（默认）
- `false`: 不需要登录验证（如登录页）

### icon
- 使用 `shallowRef()` 包装图标组件
- 图标来源：@icon-park/vue-next
- 建议选择语义化的图标

### pageType
- `constant.page_type_single`: 单页应用
- `constant.page_type_multi`: 多页应用

### default
- `true`: 设置为默认首页
- 只能有一个路由设置为true

## 常用图标推荐

```typescript
// 管理类
System,          // 系统管理
EveryUser,       // 用户管理
UserBusiness,    // 业务用户

// 商务类
Shop,            // 商店/商品
Order,           // 订单
FinancingTwo,    // 财务

// 内容类
BookOne,         // 内容/文章
Material,        // 素材
MovieBoard,      // 主题

// 营销类
Oceanengine,     // 营销
GoldMedal,       // 奖励/抽奖
TicketOne,       // 票务

// 其他
Components,      // 组件
MultiPictureCarousel, // 轮播图
HeavyMetal,      // 规则
IdCardV,         // 身份/资格
```

## 注意事项

1. **路由顺序**: 路由在数组中的顺序决定菜单显示顺序
2. **路径唯一性**: 确保路径在整个应用中唯一
3. **组件懒加载**: 使用 `() => import()` 实现组件懒加载
4. **嵌套路由**: 子路由的path不需要以'/'开头
5. **默认路由**: 通过 `getDefaultRouterPath()` 函数确定默认首页

## 完整示例

```typescript
// 添加客户管理模块
{
    path: '/customer',
    name: 'customer',
    title: '客户管理',
    meta: {
        requiresAuth: true,
        icon: shallowRef(EveryUser),
        pageType: constant.page_type_single
    },
    children: [
        {
            path: 'list',
            name: 'customer_list',
            title: '客户列表',
            meta: {
                icon: shallowRef(User)
            },
            component: () => import('@/pages/Customer/CustomerList.vue')
        },
        {
            path: 'group',
            name: 'customer_group',
            title: '客户分组',
            meta: {
                icon: shallowRef(Group)
            },
            component: () => import('@/pages/Customer/CustomerGroup.vue')
        }
    ]
}
```

通过以上配置，新的路由就会自动出现在侧边菜单中，用户可以正常访问新页面。